import{c as y,a as E}from"./disclose-version.BLj-8m0C.js";import"./legacy.BxREZut7.js";import{p as w,f as x,a as O,b as k}from"./runtime.CIjV15KX.js";import{s as z}from"./attributes.ogDJBCj9.js";import{i as D}from"./lifecycle.COZ-9-fk.js";import{p as n,c as R,o as U,a as _}from"./index-client.4E6X-StU.js";function G(h,e){w(e,!1);let r=n(e,"element",8,null),b=n(e,"once",8,!1),f=n(e,"intersecting",12,!1),I=n(e,"root",8,null),a=n(e,"rootMargin",8,"0px"),M=n(e,"threshold",8,0),i=n(e,"entry",12,null),t=n(e,"observer",12,null);const u=R();let c=null,l=null;const m=()=>{t(new IntersectionObserver(s=>{s.forEach(o=>{i(o),f(o.isIntersecting)})},{root:I(),rootMargin:a(),threshold:M()}))};U(()=>(m(),()=>{t()&&(t().disconnect(),t(null))})),_(async()=>{var s,o,g,d;i()!==null&&(u("observe",i()),i().isIntersecting&&(u("intersect",i()),r()&&b()&&((s=t())==null||s.unobserve(r())))),await k(),r()!==null&&r()!==l&&((o=t())==null||o.observe(r()),l!==null&&((g=t())==null||g.unobserve(l)),l=r()),c&&a()!==c&&((d=t())==null||d.disconnect(),l=null,m()),c=a()}),D();var v=y(),p=x(v);z(p,e,"default",{get intersecting(){return f()},get entry(){return i()},get observer(){return t()}}),E(h,v),O()}export{G as I};
